<!DOCTYPE html>
<html>
<head>
    <title id="myTitle">Single Player</title>
    <meta charset="utf-8"/>
    <link rel="shortcut icon" href="#"/>
    <link rel="stylesheet" type="text/css" href="RegisterPage.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

</head>
<body>
<div id="myTopnav">
    <script src="Scripts/jquery-3.1.1.js"></script>
    <script>
        $("#myTopnav").load("MenuPlugIn.html");
    </script>
</div>
<div class="container body-content">
    <h2>Single Player Game</h2><hr/>
    <div class="col-sm-4 form-horizontal">
        <div class="form-group">
            <label for="mazeName" class="col-sm-2 control-label">Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="mazeName"/>
            </div><br/>
            <label for="mazeRows" class="col-sm-2 control-label">Rows</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="mazeRows"/>
            </div><br/>
            <label for="mazeCols" class="col-sm-2 control-label">Cols</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="mazeCols"/>
            </div><br/>
            
            <img id="marco" src="marco.jpg" style="display: none"/>
            <img id="mother" src="mother.jpg" style="display: none" />
        </div>
        <script src="Plugin.Maze.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                $("#startLink").click(function(event) {
                    var name = $("#mazeName").val();
                    var rows = $("#mazeRows").val();
                    var cols = $("#mazeCols").val();
                    $.getJSON("api/generate/" + name + "/" + rows + "/" + cols,
                        function(data) {
                            //var mazemaze = $("#mazeCanvas").drawMaze(data);
                            var mazeData = data.Maze; // the matrix containing the maze cells
                            var startRow = data.Start.Row;
                            var startCol = data.Start.Col; // initial position of the player
                            var exitRow = data.End.Row;
                            var exitCol = data.End.Col; // the exit position
                            var playerImage = document.getElementById("marco"); // player's icon (of type Image)
                            var exitImage = document.getElementById("mother");
                            var v = $("#mazeCanvas").drawMaze(
                                mazeData, // the matrix containing the maze cells
                                rows,
                                cols,
                                startRow,
                                startCol, // initial position of the player
                                exitRow,
                                exitCol, // the exit position
                                playerImage, // player's icon (of type Image)
                                exitImage // exit's icon (of type Image)
                                //true, // is the board enabled (i.e., player can move)
                                //function(direction, playerRow, playerCol) {
                                //    // a callback function which is invoked after each move
                            );

                            document.title = name;
                        });
                });
            });
        </script>

        <a href="#" class="button" id="startLink">Start New Game</a>

        <div>
            <br/><br/>
            <label for="SearchAlgo" class="col-sm-2 control-label">SearchAlgo</label>
            <select>
                <option value="BFS">BFS</option>
                <option value="DFS">DFS</option>
            </select>
        </div>
        <br/>
        <a href="#" class="button">Solve Maze</a>

    </div>
    <canvas id="mazeCanvas" width="300" height="300" style="border: 2px black solid"></canvas>

</div>
</body>
</html>